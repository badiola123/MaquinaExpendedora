\hypertarget{classtestsuite_1_1_unreliable_socket_factory}{}\section{testsuite.\+Unreliable\+Socket\+Factory Class Reference}
\label{classtestsuite_1_1_unreliable_socket_factory}\index{testsuite.\+Unreliable\+Socket\+Factory@{testsuite.\+Unreliable\+Socket\+Factory}}


Inheritance diagram for testsuite.\+Unreliable\+Socket\+Factory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtestsuite_1_1_unreliable_socket_factory__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for testsuite.\+Unreliable\+Socket\+Factory\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classtestsuite_1_1_unreliable_socket_factory__coll__graph}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
class {\bfseries Hanging\+Input\+Stream}
\item 
class {\bfseries Hanging\+Output\+Stream}
\item 
class {\bfseries Hanging\+Socket}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
Socket \mbox{\hyperlink{classtestsuite_1_1_unreliable_socket_factory_aa23b6bb1ed436f99adc8e51f6b86d641}{connect}} (String host\+\_\+name, int port\+\_\+number, Properties prop)  throws Socket\+Exception, I\+O\+Exception 
\item 
Socket \mbox{\hyperlink{classtestsuite_1_1_unreliable_socket_factory_ab50d6b1a289f6f7205ab9ee2a2492673}{after\+Handshake}} ()  throws Socket\+Exception, I\+O\+Exception 
\item 
Socket \mbox{\hyperlink{classtestsuite_1_1_unreliable_socket_factory_ad65b14e35905d6b36bf1e93c5b0c90e2}{before\+Handshake}} ()  throws Socket\+Exception, I\+O\+Exception 
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_abd363b9f8118fa57b02cf4cab0250b9d}\label{classtestsuite_1_1_unreliable_socket_factory_abd363b9f8118fa57b02cf4cab0250b9d}} 
static String {\bfseries get\+Host\+Connected\+Status} (String \mbox{\hyperlink{classcom_1_1mysql_1_1jdbc_1_1_standard_socket_factory_ab21c6df0f1198825c6576d08ceb6df8e}{host}})
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a8ab985cf1e065c50b61ef58babcec4df}\label{classtestsuite_1_1_unreliable_socket_factory_a8ab985cf1e065c50b61ef58babcec4df}} 
static String {\bfseries get\+Host\+Failed\+Status} (String \mbox{\hyperlink{classcom_1_1mysql_1_1jdbc_1_1_standard_socket_factory_ab21c6df0f1198825c6576d08ceb6df8e}{host}})
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a7a32e894d7bc4c7667f51c92919db087}\label{classtestsuite_1_1_unreliable_socket_factory_a7a32e894d7bc4c7667f51c92919db087}} 
static String {\bfseries get\+Host\+Unknown\+Status} (String \mbox{\hyperlink{classcom_1_1mysql_1_1jdbc_1_1_standard_socket_factory_ab21c6df0f1198825c6576d08ceb6df8e}{host}})
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a28422cfdbb2523a906bcbff264195687}\label{classtestsuite_1_1_unreliable_socket_factory_a28422cfdbb2523a906bcbff264195687}} 
static void {\bfseries flush\+All\+Static\+Data} ()
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a976583ae43c3337696f2a1cb509fe2d0}\label{classtestsuite_1_1_unreliable_socket_factory_a976583ae43c3337696f2a1cb509fe2d0}} 
static void {\bfseries flush\+Connection\+Attempts} ()
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a4b8431541613eb3aadd17fc81fe12c7f}\label{classtestsuite_1_1_unreliable_socket_factory_a4b8431541613eb3aadd17fc81fe12c7f}} 
static void {\bfseries map\+Host} (String alias, String orig)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_aa884cd5e45c61e73130fd6e56a64a05a}\label{classtestsuite_1_1_unreliable_socket_factory_aa884cd5e45c61e73130fd6e56a64a05a}} 
static void {\bfseries hang\+On\+Read} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_ace34957ad762b9074f4b4ff436a5f2d3}\label{classtestsuite_1_1_unreliable_socket_factory_ace34957ad762b9074f4b4ff436a5f2d3}} 
static void {\bfseries dont\+Hang\+On\+Read} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a4d89c3537b07019cbf118394fc4726d4}\label{classtestsuite_1_1_unreliable_socket_factory_a4d89c3537b07019cbf118394fc4726d4}} 
static void {\bfseries hang\+On\+Write} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_acc8516ff4e8a54b7f1c34e88647abeae}\label{classtestsuite_1_1_unreliable_socket_factory_acc8516ff4e8a54b7f1c34e88647abeae}} 
static void {\bfseries dont\+Hang\+On\+Write} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a2266e4126f65454dae88fbb1d6a11130}\label{classtestsuite_1_1_unreliable_socket_factory_a2266e4126f65454dae88fbb1d6a11130}} 
static void {\bfseries hang\+On\+Connect} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_aa2a6bb8fe4d3d6eebf4c8b0e083d230e}\label{classtestsuite_1_1_unreliable_socket_factory_aa2a6bb8fe4d3d6eebf4c8b0e083d230e}} 
static void {\bfseries dont\+Hang\+On\+Connect} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a83758897cf0731bbee562f9c1b10a56b}\label{classtestsuite_1_1_unreliable_socket_factory_a83758897cf0731bbee562f9c1b10a56b}} 
static void {\bfseries down\+Host} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a3a64f904e1088a3f094e4f983e1a5161}\label{classtestsuite_1_1_unreliable_socket_factory_a3a64f904e1088a3f094e4f983e1a5161}} 
static void {\bfseries dont\+Down\+Host} (String hostname)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a7a17f472892f980eb1e6fee265cf017d}\label{classtestsuite_1_1_unreliable_socket_factory_a7a17f472892f980eb1e6fee265cf017d}} 
static String {\bfseries get\+Host\+From\+Last\+Connection} ()
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_ad0be11be705ac21a4b946285562caf5b}\label{classtestsuite_1_1_unreliable_socket_factory_ad0be11be705ac21a4b946285562caf5b}} 
static String {\bfseries get\+Host\+From\+Past\+Connection} (int pos)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_ab70a79c8c060bbd42135dcccac232a3e}\label{classtestsuite_1_1_unreliable_socket_factory_ab70a79c8c060bbd42135dcccac232a3e}} 
static List$<$ String $>$ {\bfseries get\+Hosts\+From\+All\+Connections} ()
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_af95d260d8de35629bf4735fb9946006b}\label{classtestsuite_1_1_unreliable_socket_factory_af95d260d8de35629bf4735fb9946006b}} 
static List$<$ String $>$ {\bfseries get\+Hosts\+From\+Last\+Connections} (int count)
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a2a98c5f404403d475332e8b557560614}\label{classtestsuite_1_1_unreliable_socket_factory_a2a98c5f404403d475332e8b557560614}} 
static boolean {\bfseries is\+Connected} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_ab3f9a10e0c6fb5b7b50961c354cb168e}\label{classtestsuite_1_1_unreliable_socket_factory_ab3f9a10e0c6fb5b7b50961c354cb168e}} 
static final String {\bfseries S\+T\+A\+T\+U\+S\+\_\+\+U\+N\+K\+N\+O\+WN} = \char`\"{}?\char`\"{}
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_aba26420cbe3743803295fa8acdefac55}\label{classtestsuite_1_1_unreliable_socket_factory_aba26420cbe3743803295fa8acdefac55}} 
static final String {\bfseries S\+T\+A\+T\+U\+S\+\_\+\+C\+O\+N\+N\+E\+C\+T\+ED} = \char`\"{}/\char`\"{}
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a012aaa326daab499cde10b634a549785}\label{classtestsuite_1_1_unreliable_socket_factory_a012aaa326daab499cde10b634a549785}} 
static final String {\bfseries S\+T\+A\+T\+U\+S\+\_\+\+F\+A\+I\+L\+ED} = \char`\"{}\textbackslash{}\textbackslash{}\char`\"{}
\item 
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_a04b724f9bcd5e359856361166c4ecf32}\label{classtestsuite_1_1_unreliable_socket_factory_a04b724f9bcd5e359856361166c4ecf32}} 
static final long {\bfseries D\+E\+F\+A\+U\+L\+T\+\_\+\+T\+I\+M\+E\+O\+U\+T\+\_\+\+M\+I\+L\+L\+IS} = 10 $\ast$ 60 $\ast$ 1000
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Configure \char`\"{}socket\+Factory\char`\"{} to use this class in your J\+D\+BC U\+RL, and it will operate as normal, unless you map some host aliases to actual IP addresses, and then have the test driver call hang\+On\+Connect/\+Read/\+Write() which simulate the given failure condition for the host with the {\bfseries alias} argument, and will honor connect or socket timeout properties.

You can also cause a host to be immediately-\/downed by calling down\+Host() with an alias.

A\+T\+T\+E\+N\+T\+I\+O\+N! This class is {\itshape N\+OT} thread safe. 

\subsection{Member Function Documentation}
\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_ab50d6b1a289f6f7205ab9ee2a2492673}\label{classtestsuite_1_1_unreliable_socket_factory_ab50d6b1a289f6f7205ab9ee2a2492673}} 
\index{testsuite\+::\+Unreliable\+Socket\+Factory@{testsuite\+::\+Unreliable\+Socket\+Factory}!after\+Handshake@{after\+Handshake}}
\index{after\+Handshake@{after\+Handshake}!testsuite\+::\+Unreliable\+Socket\+Factory@{testsuite\+::\+Unreliable\+Socket\+Factory}}
\subsubsection{\texorpdfstring{after\+Handshake()}{afterHandshake()}}
{\footnotesize\ttfamily Socket testsuite.\+Unreliable\+Socket\+Factory.\+after\+Handshake (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) throws Socket\+Exception, I\+O\+Exception}

Called by the driver after issuing the My\+S\+QL protocol handshake and reading the results of the handshake.


\begin{DoxyExceptions}{Exceptions}
{\em Socket\+Exception} & if a socket error occurs \\
\hline
{\em I\+O\+Exception} & if an I/O error occurs\\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
the socket to use after the handshake 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfacecom_1_1mysql_1_1jdbc_1_1_socket_factory_adc5277dd008da61b24261a983202f5bf}{com.\+mysql.\+jdbc.\+Socket\+Factory}}.

\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_ad65b14e35905d6b36bf1e93c5b0c90e2}\label{classtestsuite_1_1_unreliable_socket_factory_ad65b14e35905d6b36bf1e93c5b0c90e2}} 
\index{testsuite\+::\+Unreliable\+Socket\+Factory@{testsuite\+::\+Unreliable\+Socket\+Factory}!before\+Handshake@{before\+Handshake}}
\index{before\+Handshake@{before\+Handshake}!testsuite\+::\+Unreliable\+Socket\+Factory@{testsuite\+::\+Unreliable\+Socket\+Factory}}
\subsubsection{\texorpdfstring{before\+Handshake()}{beforeHandshake()}}
{\footnotesize\ttfamily Socket testsuite.\+Unreliable\+Socket\+Factory.\+before\+Handshake (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) throws Socket\+Exception, I\+O\+Exception}

Called by the driver before issuing the My\+S\+QL protocol handshake. Should return the socket instance that should be used during the handshake.


\begin{DoxyExceptions}{Exceptions}
{\em Socket\+Exception} & if a socket error occurs \\
\hline
{\em I\+O\+Exception} & if an I/O error occurs\\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
the socket to use before the handshake 
\end{DoxyReturn}


Implements \mbox{\hyperlink{interfacecom_1_1mysql_1_1jdbc_1_1_socket_factory_aa9a78553a76681f49c734aaa3f8f126b}{com.\+mysql.\+jdbc.\+Socket\+Factory}}.

\mbox{\Hypertarget{classtestsuite_1_1_unreliable_socket_factory_aa23b6bb1ed436f99adc8e51f6b86d641}\label{classtestsuite_1_1_unreliable_socket_factory_aa23b6bb1ed436f99adc8e51f6b86d641}} 
\index{testsuite\+::\+Unreliable\+Socket\+Factory@{testsuite\+::\+Unreliable\+Socket\+Factory}!connect@{connect}}
\index{connect@{connect}!testsuite\+::\+Unreliable\+Socket\+Factory@{testsuite\+::\+Unreliable\+Socket\+Factory}}
\subsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily Socket testsuite.\+Unreliable\+Socket\+Factory.\+connect (\begin{DoxyParamCaption}\item[{String}]{host,  }\item[{int}]{port\+Number,  }\item[{Properties}]{props }\end{DoxyParamCaption}) throws Socket\+Exception, I\+O\+Exception}

Creates a new socket using the given properties. Properties are parsed by the driver from the U\+RL. All properties other than sensitive ones (user and password) are passed to this method. The driver will instantiate the socket factory with the class name given in the property "socket\+Factory", where the standard is {\ttfamily \mbox{\hyperlink{classcom_1_1mysql_1_1jdbc_1_1_standard_socket_factory}{com.\+mysql.\+jdbc.\+Standard\+Socket\+Factory}}} Implementing classes are responsible for handling synchronization of this method (if needed).


\begin{DoxyParams}{Parameters}
{\em host} & the hostname passed in the J\+D\+BC U\+RL. It will be a single hostname, as the driver parses multi-\/hosts (for failover) and calls this method for each host connection attempt.\\
\hline
{\em port\+Number} & the port number to connect to (if required).\\
\hline
{\em props} & properties passed to the driver via the U\+RL and/or properties instance.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
a socket connected to the given host 
\end{DoxyReturn}

\begin{DoxyExceptions}{Exceptions}
{\em Socket\+Exception} & if a socket error occurs \\
\hline
{\em I\+O\+Exception} & if an I/O error occurs \\
\hline
\end{DoxyExceptions}


Implements \mbox{\hyperlink{interfacecom_1_1mysql_1_1jdbc_1_1_socket_factory_a2e5061cef1109ab4689437fe177c4ffe}{com.\+mysql.\+jdbc.\+Socket\+Factory}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/\+Imanol/eclipse-\/workspace/\+Maquina Expendedora/lib/mysql-\/connector-\/java-\/5.\+1.\+42/src/testsuite/Unreliable\+Socket\+Factory.\+java\end{DoxyCompactItemize}
